# Java中的锁

## 1、锁膨胀过程

1、偏向锁

2、轻量级锁：CAS

3、重量级锁：synchronized

## 2、乐观锁和悲观锁

乐观锁：更新前不加锁，而是判断数据是否被修改，如果被修改了则不更新。适合读多写少的场景

悲观锁：更新前一律先加锁。适合读少写多的场景

## 3、公平锁和非公平锁
公平锁：按照申请锁的顺序来获取锁，可以通过自行实现Lock接口实现

非公平锁：获取锁的顺序与申请顺序无关，不保证每个线程都能拿到锁，存在饥饿情况，但**性能高于公平锁**

## 4、可重入锁和不可重入锁
可重入：一个线程获取锁后可以再次获取这个锁，而不会产生死锁

## 5、共享锁和独享锁
也称为读锁和写锁