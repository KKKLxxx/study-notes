# Session、Cookie、Token

http是一种无状态协议，即http自身不对请求和响应之间的通信状态进行保存，一旦数据交换完毕，客户端与服务端的连接就会关闭，再次交换数据需要建立新的连接，这就意味着服务器无法从连接上跟踪会话，那么我们如何进行会话跟踪呢？

**会话跟踪**：保证一个用户的所有请求操作都应该属于同一个会话，而另一个用户的所有请求操作则应该属于另一个会话

## Session

在服务端记录信息确定用户身份

session的缺陷在于

1、如果用户量很多，那么会浪费很多空间去保存session

2、session在服务器之间难以共享，导致难以扩展

## Cookie

在客户端保存用户的个性化设置等信息。在请求服务器时，会将cookie中的内容一并发送

最好不要将敏感信息明文存储在cookie中

## Token

token主要用于解决session的缺陷，解决方式就是：用户第一次请求登录时，即加密生成一个token并返回给用户。用户将token保存在cookie中。之后的每次请求，服务器都会先验证cookie中的token是否合法。这种方式相当于用CPU计算代替了大量的空间存储，而且通过这种方式很容易扩展应用

**如果cookie被禁用怎么办？**

可以将cookie中的token附加在URL后面
